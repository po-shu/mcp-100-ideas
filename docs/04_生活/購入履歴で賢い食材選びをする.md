# 購入履歴で賢い食材選びをする

## アイデア
ネットスーパーからダウンロードした購入履歴CSVを分析し、定番食材の買い時と特売品の活用方法を提案します。また、提案内容と実際の購入履歴の差分を記録することで、個人の好みや判断を学習し、より適切な提案を行います。

> **Note:** CSVとありますが、購入履歴を参照するAPIが作成されていればなお良いです。

### 具体例
4人家族の主婦。毎週のようにネットスーパーで食材を購入していますが、何を買うか考えるのが面倒になってきました。購入履歴のCSVをダウンロードできることは知っていますが、そのデータを賢く活用する方法を知りたいと考えています。

## アーキテクチャ

| Type | Name | Role |
|--|--|--|
| Client | Claude Desktop App | ユーザーとの対話、購入履歴分析 |
| Server | Filesystem | CSVの読み込みと提案履歴の保存 |

```mermaid
sequenceDiagram
    actor User as ユーザー
    participant MCP as Claude
    participant FS as Filesystem
    participant Shop as ネットスーパー

    User->>Shop: 購入履歴CSVをダウンロード
    User->>MCP: CSVを共有して分析を依頼
    MCP->>FS: 前回の提案履歴を確認
    FS-->>MCP: 提案と実績の差分
    MCP->>User: 購入すべき食材を提案<br>（定番品・使用頻度・価格傾向）
    MCP->>FS: 今回の提案内容を記録
    User->>Shop: 提案を参考に注文
    Shop-->>User: 注文完了
    Note over MCP,FS: 次回分析時に、今回の提案と<br>実際の購入内容を比較
```

## 思考プロセス

### 対象の活動の価値は何か
- 購入履歴の傾向から賢い選択が可能に<br>
- 定番食材の適切な購入タイミング把握<br>
- 食費の無駄を減らせる
- 個人の好みや判断を暗黙的に学習

### 価値を妨げる課題は何か
- 毎回の食材選択の精神的負担<br>
- 価格変動への対応<br>
- 同じ食材ばかりになりがち
- 提案が個人の好みと合わない可能性

### なぜ課題が発生するのか、仮説推論
- 家族の好みと予算の両立が必要<br>
- 日々の選択作業の蓄積による疲れ<br>
- 新しい食材を試す判断基準の難しさ
- 提案と実績の差分を活かせていない